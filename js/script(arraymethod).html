<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>
    // Array
    // push(): 뒤에 삽입, pop(): 뒤에 삭제, unshift(): 앞에 삽입, shift(): 앞에 삭제

    //arr.splice(n, m, x): 특정 요소를 지움
    // n 시작, m 개수, x 특정 요소 추가(삭제한 자리에 추가)
    let arr = [1,2,3,4,5];
    // arr.splice(1,2); // 1의 자리 수부터 2개 삭제
    // console.log(arr); // [1,4,5]

    arr.splice(1, 3, 100, 200);

    console.log(arr); // [1, 100, 200, 5]

    arr = ["나는", "철수", "입니다."];

    arr.splice(1, 0, "대한민국", "소방관");
    // ["나는", "대한민국", "소방관", "철수", "입니다."]   
    
    // arr.splice():  삭제된 요소 반환

    arr = [1,2,3,4,5];
    let result = arr.splice(1,2); // 삭제된 값을 담아준다.

    console.log(arr); // [1,4,5]
    console.log(result); // [2,3]

    // arr.slice(n, m) : n부터 m까지 반환

    arr.slice(1,4); // [2,3,4] 1의 자리부터 4의자리 앞까지 반환

    let arr2 = arr.slice(); // 아무것도 안적으면 그대로 반환
    console.log(arr2); // [1,2,3,4,5]

    // arr.concat(arr2, arr3) : 합쳐서 새 배열 반환해준다.
    
    arr = [1,2];

    arr.concat([3,4]); // [1,2,3,4]
    arr.concat([3,4], [5,6]); // [1,2,3,4,5,6]
    arr.concat([3,4],5,6); // [1,2,3,4,5,6]

    // arr.forEach(fn) : 배열 반복
     
    let users = ['Mike', 'Tom', 'Jane'];
    
    // users.forEach((itme[mike,tom,jane], index[0,1,2], arr[users]) => {
    //   // ..
    // });

    users.forEach((name, index) => {
      console.log(`${index + 1}, ${name}`);
    });
    // index는 0부터 시작하기 때문에 +1을 해준다.


    // arr.indexOf / arr.lastIndexOf

    arr = [1,2,3,4,5,1,2,3];

    arr.indexOf(3); // 2  해당하는 값의 위치를 알려준다.
    arr.indexOf(3, 3); // 7 // 뒤쪽에 있는 3의 index 값을 알려준다.
    arr.lastIndexOf(3); // 7 // 맨뒤의 값을 반환한다.

    // arr.includes() : 포함하는지 확인 // true, false로 반환

    arr = [1,2,3];
    arr.includes(2); // true // 2의 값을 포함하고 있기때문
    arr.includes(8); // false // 8의 값이 없음으로 실패

    // arr.find(fn) / arr.findIndex(fn) // 찾는 거는 indexOf와 같지만 함수를 사용가능하다.
    // 첫번째 true 값만 반환하고 끝,
    // 만약 없으면 undefined를 반환한다.
    
    arr = [1,2,3,4,5];

    result = arr.find((item) => {
      return item % 2 == 0; // 짝수를 반환하는 함수
    });

    console.log(result); // 2 
    // 가장 먼저 나오는 값 1개만 반환된다.
    // 그러므로 2 이후에 나오는 4의 값은 반환되지 않는다.

    // arr.sort() - 배열 재정렬
    // 사용시에 배열의 위치가 변경된다.

    arr = [1, 5, 4, 3, 2];

    arr.sort();

    console.log(arr); // [1, 2, 3, 4, 5] 순서 대로 정렬해준다.ㅣ

    arr = ["a", "e", "d", "c", "b"];

    arr.sort();

    console.log(arr); // ["a", "b", "c", "d", "e"] 문자 순서대로 정렬해준다.

    arr = [27, 8, 5, 13];

    /*
    function fn(a, b) {
      return a - b;
    }

    arr.sort(fn); // 함수 추가
    */

    // Arrow function으로 했을 경우
    arr.sort((a, b) => {
      console.log(a, b);
      return a - b;
    });
    // 양수, 0, 음수를 return 해준다.

    // 8, 27, 5, 13
    // 5, 8, 27, 13
    // 5, 8, 13, 27 마지막에 이러한 형식으로 졍렬이 된다.

    console.log(arr); 
    // [13, 27, 5, 8] 숫자를 문자로 인식해서 정렬한다.
    // 그래서 1이 앞에오고 그다음 2 그다음 5 이런 식으로 온다.

    // 재대로 비교하고 싶다면 인수 정렬의 함수를 넣어주면 된다.

    // 이렇게 복잡한 경우를 위해서 
    // Lodash 라이브러리를 사용한다.
    // _.sortBy(arr); 를 해준다.
    // https:lodash.com/
    // 어떠한 값이든 정렬해준다.

    // 배열의 모든수 합치기

    arr = [1, 2, 3, 4, 5];

    // for, for of, forEach

    result = 0;
    arr.forEach(num => {
      // result = result + num
      result += num;
    });

    console.log(result); // 15 -> 1+2+3+4+5

    // arr.reduce()는 위의 작업을 한번에 처리해준다.
    result = arr.reduce((prev, cur) => { // prev = 누적된 계산된 값, cur = 현재 값
        return prev + cur;
    }, 100); // 0은 초기 값이다. 초기값은 생략 가능 하다. 안썻을 경우 배열의 0의 자리 값이 들어온다.

    console.log(result); // 115

    // 실전형 문제

    let userList = [
      { name : "Mike", age : 30},
      { name : "Tom", age : 10},
      { name : "Jane", age : 27},
      { name : "Sue", age : 26},
      { name : "Harry", age : 43},
      { name : "Steve", age : 60},
    ]

    // 성인인 사람 배열 구하기
    result = userList.reduce((prev, cur) => {
      if(cur.age > 19) {
        prev.push(cur.name);
      }
      return prev;
    }, []);

    // []는 초기값 
    // push 하여 초기 값에 넣게 된다.
    // ["Mike", "Jane", "Sue", "Harry", "Steve"]

    console.log(result);

    // 나이의 합 구하기
    result = userList.reduce((prev, cur) => {
      return prev += cur.age;
    }, 0);

    console.log(result); // 나이의 총 합은 196이 나온다.

    // 이름이 3글자 이상인 사람 구하기.
    result = userList.reduce((prev, cur) => {
      if(cur.name.length === 3) {
        prev.push(cur.name);
      }
      return prev;
    }, []);

    console.log(result); // ["Tom", "Sue"]

    // arr.reduceRight()는 기능이 동일하다.

  </script>
</body>
</html>