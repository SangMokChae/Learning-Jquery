<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<p> time : <span id="time"></span></p>
	<select id="timezone">
		<option value="Asia/Seoul">Asia/Seoul</option>
		<option value="America/New_York">America/New_York</option>
	</select>
	<select id="format">
		<option value="Y-m-d H:i:s">Y-m-d H:i:s</option>
		<option value="Y-m-d">Y-m-d</option>
	</select>
	<input type="button" id="execute" value="execute" />
	<script>
		document.querySelector('input').addEventListener('click', function(e) {
			let xhr = new XMLHttpRequest();
			xhr.open('POST', './time2.jsp');
			xhr.onreadystatechange = function() {
				document.querySelector('#time').innerHTML = xhr.responseText;
			}
			let data = '';
			data += 'timezone=' +document.getElementById('timezone').value;
			data += '&format=' +document.getElementById('format').value;
			xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
			// 전송하는 콘텐트의 타입을 위와 같이 보내면 form을 사용해서 보내는 것 처럼 처리가 가능해진다.
			xhr.send(data);
		});
	</script>
</body>
</html>